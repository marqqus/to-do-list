<html>
<head>
<title>To-do List</title>
<script>

// set the to-do list as an array
let toDo = [];

function addTask(){

    //ask for the name of the new task
    let newTask = prompt("type your task: ");

    //create a new task as a new element in the toDo array; each element of the array contains an html button to mark that task completed
    toDo.push((toDo.length+1)+': '+newTask+' <input type="button" onClick="markTaskCompleted('+(toDo.length)+')" value="complete">');
    console.log(toDo);

    //display the current list of tasks on the page
    displayTasks();

}

function endProgram(){
    //reload the page with a default text
    document.write('Thank you for using this fantastic program!');
}

function markTaskCompleted(taskNumber){
    
    //modify the toDo array
    toDo.splice(taskNumber,1,`${taskNumber+1}: [done]`);

    //display the current list of tasks on the page
    displayTasks();
}

function displayTasks(){
    
    //the following code convers the toDo array into a string with HTML code which displays the tasks as paragraphs
    let output='<p>';
    for(i=0;i<toDo.length;i++){
        output=output+toDo[i]+'</p></p>';
    }
    output+='<p>';
    
    //display the converted HTML code
    document.getElementById('div').innerHTML=output;

}

</script>
</head>
<body>
<!-- <script src="todo.js"></script> -->
    <p>Welcome to our super-fancy to-do list app!</p>

    <!-- navigation buttons -->
    <input type="button" name="newTask" value="Create a new task" onclick="addTask()">
    <input type="button" name="exit" value="Exit" onclick="endProgram()"> <br>

    <!-- task presentation -->
    <h2>Your tasks:</h2>

    <div id="div"><p>You have no tasks yet.</p>
    </div>

</body>
</html>